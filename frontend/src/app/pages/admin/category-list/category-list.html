<!-- Contenido completo para: src/app/pages/admin/category-list/category-list.component.html -->

<header class="page-header">
  <h1>Categorías</h1>
  <a routerLink="/admin/categories/new" class="add-button" appRipple>
    <span class="material-symbols-outlined">add</span>
    Crear Categoría
  </a>
</header>

<div class="table-container">
  <!-- Estado de Carga -->
  @if (isLoading()) {
  <div class="skeleton-list">
    @for (item of [1, 2, 3]; track item) {
    <div class="skeleton-item">
      <div class="skeleton-img"></div>
      <div class="skeleton-text-group">
        <div class="skeleton-text"></div>
        <div class="skeleton-text short"></div>
      </div>
    </div>
    }
  </div>
  }

  <!-- Lista de Categorías -->
  @if (!isLoading() && categories().length > 0) {
  <div class="category-list" [@listAnimation]="categories().length">
    <div class="category-item header">
      <div class="cell">Imagen</div>
      <div class="cell">Nombre</div>
      <div class="cell">Slug (URL)</div>
      <div class="cell">Acciones</div>
    </div>

    @for (category of categories(); track category._id) {
    <div class="category-item">
      <div class="cell" data-label="Imagen">
        <img
          [src]="category.imageUrl"
          [alt]="category.name"
          class="category-image"
        />
      </div>
      <div class="cell category-name" data-label="Nombre">
        {{ category.name }}
      </div>
      <div class="cell" data-label="Slug">/category/{{ category.slug }}</div>
      <div class="cell" data-label="Acciones">
        <div class="action-buttons">
          <a
            [routerLink]="['/admin/categories/edit', category._id]"
            class="action-button edit"
            appRipple
            >Editar</a
          >
          <button
            (click)="deleteCategory(category._id)"
            class="action-button delete"
            appRipple
          >
            Eliminar
          </button>
        </div>
      </div>
    </div>
    }
  </div>
  }

  <!-- Estado Vacío -->
  @if (!isLoading() && categories().length === 0) {
  <div class="empty-state">
    <p>Aún no has creado ninguna categoría.</p>
    <a routerLink="/admin/categories/new" class="add-button" appRipple>
      <span class="material-symbols-outlined">add</span>
      Crear tu primera categoría
    </a>
  </div>
  }
</div>
