<!-- Contenedor principal que centra el formulario en la página -->
<div class="auth-container">
  <!-- Tarjeta que contiene el formulario y los elementos de autenticación -->
  <div class="auth-card">
    <h2 class="auth-title">Crea tu Cuenta en Sofilu</h2>

    <!-- Formulario reactivo de Angular. `(ngSubmit)` se dispara al enviar. -->
    <form [formGroup]="registerForm" (ngSubmit)="handleSubmit()">
      <!-- CAMPO DE CORREO ELECTRÓNICO con etiqueta flotante -->
      <div class="material-field">
        <input
          id="email"
          type="email"
          formControlName="email"
          class="material-input"
          placeholder=" "
        />
        <label for="email" class="material-label">Correo Electrónico</label>

        <!-- Bloque de errores que aparece solo si el campo ha sido tocado y es inválido -->
        @if (registerForm.get('email')?.touched &&
        registerForm.get('email')?.invalid) {
        <div class="error-text">
          @if (registerForm.get('email')?.hasError('required')) {
          <span>El correo es requerido.</span> } @if
          (registerForm.get('email')?.hasError('email')) {
          <span>Introduce un correo electrónico válido.</span> }
        </div>
        }
      </div>

      <!-- CAMPO DE CONTRASEÑA con etiqueta flotante -->
      <div class="material-field">
        <input
          id="password"
          type="password"
          formControlName="password"
          class="material-input"
          placeholder=" "
        />
        <label for="password" class="material-label">Contraseña</label>

        <!-- Bloque de errores para la contraseña -->
        @if (registerForm.get('password')?.touched &&
        registerForm.get('password')?.invalid) {
        <div class="error-text">
          @if (registerForm.get('password')?.hasError('required')) {
          <span>La contraseña es requerida.</span> } @if
          (registerForm.get('password')?.hasError('minlength')) {
          <span>La contraseña debe tener al menos 6 caracteres.</span> }
        </div>
        }
      </div>

      <!-- BOTÓN DE ENVÍO -->
      <!-- Se deshabilita si el formulario no es válido. `appRipple` aplica el efecto de onda. -->
      <button
        type="submit"
        [disabled]="registerForm.invalid"
        class="auth-button"
        appRipple
      >
        Crear Cuenta
      </button>

      <!-- Separador visual "O" -->
      <div class="separator"><span>O</span></div>

      <!-- BOTÓN DE INICIO DE SESIÓN CON GOOGLE -->
      <button
        type="button"
        (click)="handleGoogleLogin()"
        class="google-button"
        appRipple
      >
        <!-- Icono de Google en SVG -->
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <!-- ... paths del SVG ... -->
        </svg>
        <span>Continuar con Google</span>
      </button>
    </form>

    <!-- Enlace para redirigir a la página de inicio de sesión -->
    <p class="auth-link">
      ¿Ya tienes una cuenta? <a routerLink="/login">Inicia Sesión</a>
    </p>
  </div>
</div>
