@if (productModalService.modalState(); as data) {
<div class="modal-overlay" (click)="productModalService.close()"></div>

<div class="modal-sheet" @flyInOut>
  <header class="modal-header">
    <h2 class="modal-title">{{ data.title }}</h2>
    <button (click)="productModalService.close()" class="close-btn">
      <span class="material-symbols-outlined">close</span>
    </button>
  </header>

  <!-- PrÃ³ximamente: Barra de Filtros -->
  <div class="modal-filters">
    <label for="sortBySelect">Ordenar por:</label>
    <select id="sortBySelect" formControlName="sortBy" class="filter-select">
      <option value="relevance,desc">Relevancia</option>
      <option value="price,asc">Precio: de menor a mayor</option>
      <option value="price,desc">Precio: de mayor a menor</option>
      <option value="name,asc">Nombre: A-Z</option>
      <option value="name,desc">Nombre: Z-A</option>
    </select>
  </div>

  <!-- Contenido con Scroll -->
  <div class="modal-content">
    <div class="products-grid">
      @for(product of data.products; track product._id) {
      <app-product-card [product]="product"></app-product-card>
      }
    </div>
  </div>
</div>
}
